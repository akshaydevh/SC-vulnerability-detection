import pausingTx from "@/db/models/pausingTx";
import createError from "http-errors";

/**
 * 
 * Get /pausingTx
 * Provides analysis report on the effectiveness of pausing mechanism
 */
export const analyzePausingTx = async (req, res) => {
    try {
        // count toatl pausing event
        const totalCount = await pausingTx.countDocuments();
        // count successful pausing event
        const successCount = await pausingTx.countDocuments({ success: true });
        // count failed pausing event
        const failedCount = totalCount - successCount;
        // calculate success rate
        const successRate = (successCount / totalCount) * 100;
        res.status(200).json({
            "totalPausingEvents": totalCount,
            "successfulPausingEvents": successCount,
            "failedPausingEvents": failedCount,
            "successRate": successRate
        });
    } catch (error) {

    }
}